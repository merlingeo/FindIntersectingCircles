<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body,#circle{
            height: 100vh;
            margin: 0;
            width: 100vw;
        }
        [id^='shape']{
            position: absolute;
            border: 2px solid rgb(153, 51, 51);
        }

        .highlighted{
            background-color: lightpink;
            opacity: 0.5 ;
        }


    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        var clickCoordinates =[];
        
        function getRandomIntInclusive() {
            const minCeiled = 50;
            const maxFloored = 350;
            return Math.floor(Math.random() * (maxFloored - minCeiled + 1) + minCeiled);
        }

        document.addEventListener('click',()=>{
            var randmDiameter = getRandomIntInclusive();
            clickCoordinates.push({
                x : event.clientX-(Math.round(randmDiameter/2)),
                y : event.clientY-(Math.round(randmDiameter/2)),
                r : Math.round(randmDiameter/2),
                sId:clickCoordinates.length+1
            })

            let shapeId = clickCoordinates.length;
            $('#circle').append("<div id='shape"+clickCoordinates.length+"'></div>")
            $(`#shape${shapeId}`).css({
                'left' : `${clickCoordinates[shapeId-1].x}px`,
                'top' : `${clickCoordinates[shapeId-1].y}px`,
                'height': randmDiameter+'px',
                'width': randmDiameter+'px',
                'border-radius': randmDiameter+'px'
            });
            if (clickCoordinates.length >1) checkOverlapping();
        })

        function checkOverlapping(){
            console.log('inside');
            
            for (let i = 0; i < clickCoordinates.length; i++) {
                // const element = clickCoordinates[i];
                console.log('i');
                
                for (let j = i+1; j < clickCoordinates.length; j++) {
                    // const element = clickCoordinates[j];
                    console.log('j');
                    let sumOfRadius = clickCoordinates[i].r + clickCoordinates[j].r;
                    let distanceBetween = Math.sqrt(

                        Math.pow(clickCoordinates[i].x - clickCoordinates[j].x, 2) + 
                        Math.pow(clickCoordinates[i].y - clickCoordinates[j].y, 2) 
                        );

                    console.log(sumOfRadius);

                    console.log(distanceBetween);

                    if (distanceBetween < sumOfRadius){
                        console.log('intersecting',`#shape${clickCoordinates[i].sId}`);
                        // $(`#shape${shapeId}`).css({});
                        $(`#shape${clickCoordinates[i].sId},#shape${clickCoordinates[j].sId}`).addClass('highlighted');
                    }
                    
                    
                                                        
                }
                
            }

        }
        
    </script>
</head>
<body>
    <div id="circle"></div>
</body>
</html>